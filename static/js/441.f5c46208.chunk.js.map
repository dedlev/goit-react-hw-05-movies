{"version":3,"file":"static/js/441.f5c46208.chunk.js","mappings":"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","sources":["constants/status.constants.js","components/SearchBar/SearchBar.jsx","pages/MoviesPage.jsx","services/movies.services.js"],"sourcesContent":["export const STATUS = {\n    IDLE: 'idle',\n    LOADING: 'loading',\n    SUCCESS: 'success',\n    ERROR: 'error',\n}","import { useState } from \"react\";\n\nexport const SearchBar = ({onSubmit}) => {\n    const [query, setQuery] = useState('');\n\nconst handleSubmit = event => {\n    event.preventDefault();\n\n    onSubmit(query);\n    setQuery('');\n};\n\nconst handleChange = event => {\n    const newQuery = event.currentTarget.value;\n    setQuery(newQuery);\n}\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <input type=\"text\" name=\"searchName\" value={query} onChange={handleChange}></input>\n            <button type=\"submit\">Search</button>\n        </form>\n    )\n  \n};\n\n\n\n","\nimport { SearchBar } from \"components/SearchBar/SearchBar\";\nimport { useEffect, useState } from \"react\";\nimport { Link, Outlet, useNavigate, useLocation } from \"react-router-dom\";\nimport { getSearchQuery } from \"services/movies.services\";\nimport { STATUS } from \"../constants/status.constants\";\nimport Notiflix from 'notiflix';\nimport { Loader } from \"ui/Loader\";\n\nconst MoviesPage = () => {\n    const [query, setQuery] = useState('');\n    const [movies, setMovies] = useState([]);\n    const [status, setStatus] = useState(STATUS.IDLE);\n\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    useEffect(() => {\n        if (query === '') {\n            setMovies([]);\n            setStatus(STATUS.IDLE);\n            return;\n        }\n\n        const fetchData = async () => {\n            setStatus(STATUS.LOADING);\n            try {\n                const data = await getSearchQuery(query);\n                if (data.results.length === 0) {\n                    Notiflix.Notify.failure(`Query with name '${query}' not faund`);\n                }\n                \n                setMovies(data.results);\n                setStatus(STATUS.SUCCESS);\n                localStorage.setItem('location', `/movies?query=${query}`);\n                navigate(`?query=${query.trim()}`, { replace: true });\n            } catch (error) {\n                setStatus(STATUS.ERROR);\n                console.log(error);\n            }\n        };\n\n        fetchData();\n    }, [query, navigate]);\n\n    useEffect(() => {\n        const searchParams = new URLSearchParams(location.search);\n        const savedQuery = searchParams.get('query') || '';\n\n        if (savedQuery) {\n            setQuery(savedQuery);\n        }\n    }, [location.search]);\n\n    const handleSubmit = newQuery => {\n        setQuery(newQuery.trim());\n    };\n\n    return (\n        <main>\n            <SearchBar onSubmit={handleSubmit} />\n            {status === STATUS.LOADING && <Loader />}\n            {status === STATUS.ERROR && <p>Error loading data</p>}\n            {status === STATUS.SUCCESS && (\n                <ul>\n                    {movies && movies.map(movie => (\n                        <li key={movie.id}>\n                            <Link to={`/movies/${movie.id}?query=${query}`} state={{from: location}}>{movie.title}</Link>\n                        </li>\n                    ))}\n                </ul>\n            )}\n            <Outlet />\n        </main>\n    );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = '3646fa4826ffb51a1129efde8ab530b7'\nconst moviesApi = axios.create({ baseURL: 'https://api.themoviedb.org/3/' });\n\n// export const getMovies = async (query='', timeWindow='') => {\n//   const { data } = await moviesApi.get(`${query}/movie/${timeWindow}`, {\n//     params: {\n//         api_key: API_KEY,  \n//     },\n//   });\n//   return data;\n// };\n\nexport const getMovies = async () => {\n  const { data } = await moviesApi.get(`trending/movie/day`, {\n    params: {\n        api_key: API_KEY,  \n    },\n  });\n  return data;\n};\n\n\nexport const getMovieDetails = async (movieId) => {\n  const { data } = await moviesApi.get(`/movie/${movieId}`, {\n    params: {\n      api_key: API_KEY, \n      append_to_response: 'images',\n    },\n  });\n  return data;\n};\n\nexport const getCast = async (movieId, cast) => {\n  const { data } = await moviesApi.get(`/movie/${movieId}/${cast}`, {\n    params: {\n      api_key: API_KEY, \n    },\n  });\n  return data;\n};\n\nexport const getReviews = async (movieId, reviews) => {\nconst {data} = await moviesApi.get(`/movie/${movieId}/${reviews}`, {\n  params: {\n    api_key: API_KEY, \n  },\n});\nreturn data;\n};\n\nexport const getSearchQuery = async (query) => {\n  const {data} = await moviesApi.get(`/search/movie`, {\n    params: {\n      query,\n      api_key: API_KEY,\n    }\n  })\n  return data;\n}\n\n"],"names":["STATUS","IDLE","LOADING","SUCCESS","ERROR","SearchBar","_ref","onSubmit","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsxs","event","preventDefault","children","_jsx","type","name","value","onChange","newQuery","currentTarget","_useState3","_useState4","movies","setMovies","_useState5","_useState6","status","setStatus","navigate","useNavigate","location","useLocation","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","getSearchQuery","sent","results","length","Notiflix","concat","localStorage","setItem","trim","replace","t0","console","log","stop","apply","arguments","savedQuery","URLSearchParams","search","get","Loader","map","movie","Link","to","id","state","from","title","Outlet","API_KEY","moviesApi","axios","baseURL","getMovies","_yield$moviesApi$get","params","api_key","abrupt","getMovieDetails","_ref2","_callee2","movieId","_yield$moviesApi$get2","_context2","append_to_response","_x","getCast","_ref3","_callee3","cast","_yield$moviesApi$get3","_context3","_x2","_x3","getReviews","_ref4","_callee4","reviews","_yield$moviesApi$get4","_context4","_x4","_x5","_ref5","_callee5","_yield$moviesApi$get5","_context5","_x6"],"sourceRoot":""}